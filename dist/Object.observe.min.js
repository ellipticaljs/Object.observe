!function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.returnExports=t()}(this,function(){Object.observe||!function(e,t){"use strict";var n=function(e){var n=e.call(e),r=typeof r;return"object"==typeof t.alert?function(t){return n===e.call(t)||!!t&&typeof t.toString==r&&typeof t.valueOf==r&&/^\s*\bfunction\b/.test(""+t)}:function(t){return n===e.call(t)}}(e.prototype.toString),r=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},i=function(){return!!t.setImmediate}(),o=function(){return i?function(e){return setImmediate(e)}:function(e){return setTimeout(e,10)}}(),c=function(){return i?function(e){clearImmediate(e)}:function(e){clearTimeout(e)}}(),f=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},u=function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t},a=function(e){return"undefined"==typeof e?!1:"get"in e||"set"in e},d=function(e,t){var n=!1;return e.forEach(function(e){e===t&&(n=!0)}),n},s=function(e,t,r){if("object"!=typeof e)throw new TypeError("Object.observeObject called on non-object");if(n(t)===!1)throw new TypeError("Object.observeObject: Expecting function");if(Object.isFrozen(t)===!0)throw new TypeError("Object.observeObject: Expecting unfrozen function");if(void 0!==r&&!Array.isArray(r))throw new TypeError("Object.observeObject: Expecting acceptList in the form of an array")},l=function g(){var e=[],g=function n(t,r,i){Array.isArray(t)&&(n._oldValue=t.concat([])),s(t,r,i),i||(i=["add","update","delete","splice"]),Object.getNotifier(t).addListener(r,i),-1===e.indexOf(t)?e.push(t):Object.getNotifier(t)._checkPropertyListing()};g.prototype.deliverChangeRecords=function(e){Object.getNotifier(e).deliverChangeRecords()},e.lastScanned=0;var t=function(e){return function t(){var n=0,r=e.length,i=new Date,c=!1;for(n=e.lastScanned;r>n&&!c;n++)y.indexOf(e[n])>-1?(Object.getNotifier(e[n])._checkPropertyListing(),c=new Date-i>100):(e.splice(n,1),n--,r--);e.lastScanned=r>n?n:0,o(t)}}(e);return o(t),g}(),p=function(e){var t=[],n=[],r=[],i=!1,s=[],p=[],v=this;Object.defineProperty(v,"_watching",{enumerable:!0,get:function(e){return function(){return e}}(e)});var y=function(e,t){var n=(typeof e[t],Object.getOwnPropertyDescriptor(e,t));if("getNotifier"===t||a(n)||!n.enumerable)return!1;if(e instanceof Array&&f(t)){var r=s.length;return s[r]=t,p[r]=e[t],!0}return function(t,n){s[t]=n,p[t]=e[n],Object.defineProperty(e,n,{get:function(){return p[t]},set:function(r){u(p[t],r)||(Object.getNotifier(e).queueUpdate(e,n,"update",p[t]),p[t]=r)}})}(s.length,t),!0};v._checkPropertyListing=function(e){var t,n,r,i,o,c=v._watching,u=Object.keys(c),a=0,d=u.length,l=s.slice(0),g=!e;for(c instanceof Array&&(o=v._oldLength),a=0;d>a;a++)t=u[a],r=c[t],n=typeof r,-1===(i=s.indexOf(t))?y(c,t)&&g&&v.queueUpdate(c,t,"add",null,c[t]):(c instanceof Array&&!f(t)||p[i]!==r&&(g&&v.queueUpdate(c,t,"update",p[i],r),p[i]=r),l.splice(l.indexOf(t),1));if(c instanceof Array&&c.length!==o&&(g&&v.queueUpdate(c,"length","update",o,c),v._oldLength=c.length),g)for(d=l.length,a=0;d>a;a++)i=s.indexOf(l[a]),v.queueUpdate(c,l[a],"delete",p[i]),s.splice(i,1),p.splice(i,1)},v.addListener=function(e,r){var i=t.indexOf(e);-1===i?(t.push(e),n.push(r)):n[i]=r},v.removeListener=function(e){var r=t.indexOf(e);r>-1&&(t.splice(r,1),n.splice(r,1))},v.listeners=function(){return t},v.queueUpdate=function(e,t,n,r){this.queueUpdates([{type:n,object:e,name:t,oldValue:r}])},v.queueUpdates=function(e){var t,n=this,f=0,u=e.length||0;for(f=0;u>f;f++)t=e[f],r.push(t);i&&c(i),i=o(function(){i=!1,n.deliverChangeRecords()})},v.deliverChangeRecords=function(){var e=0,i=t.length;for(e=0;i>e;e++)if(t[e]){var o;if(n[e]){o=[];for(var c=0,f=r.length;f>c;c++)-1!==n[e].indexOf(r[c].type)&&o.push(r[c])}else o=r;if(o.length){if(d(n[e],"splice")){var u=v._arrayObserverSplice(o);o=u?u:o}t[e]===console.log?console.log(o):t[e](o)}}r=[]},v.notify=function(t){if("object"!=typeof t||"string"!=typeof t.type)throw new TypeError("Invalid changeRecord with non-string 'type' property");t.object=e,v.queueUpdates([t])},v._checkPropertyListing(!0),v._arrayObserverSplice=function(e){var t=e[0].object;if(!Array.isArray(t))return!1;var n=l._oldValue;if(void 0===n)return!1;var r=n.length,i=t.length;if(i===r)return!1;var o=v._spliceChangeRecord();o.object=t;var c=r-1,f=i-1;if(i>r){if(o.addedCount=i-r,n[c]!==t[f])o.index=c+1;else if(n[0]!==t[0])o.index=0;else for(var u=0;r>u;u++)if(n[u]!==t[u]){o.index=u;break}}else{var a=r-i;if(n[c]!==t[f])o.index=f+1;else if(n[0]!==t[0])o.index=0;else for(var u=0;r>u;u++)if(n[u]!==t[u]){o.index=u;break}o.removed=v._removedArray(n,o.index,a)}return l._oldValue=t.concat([]),[o]},v._spliceChangeRecord=function(){return{addedCount:0,index:void 0,object:[],removed:[],type:"splice"}},v._removedArray=function(e,t,n){for(var r=[],i=t+n,o=t;i>o;o++)r.push(e[o]);return r}},v=[],y=[];e.getNotifier=function(e){var t=y.indexOf(e),n=t>-1?v[t]:!1;return n||(t=y.length,y[t]=e,n=v[t]=new p(e)),n},e.observe=function(e,t,n){return r(e)?void 0:new l(e,t,n)},e.unobserve=function(e,t){s(e,t);var n=y.indexOf(e),r=n>-1?v[n]:!1;r&&(r.removeListener(t),0===r.listeners().length&&(y.splice(n,1),v.splice(n,1)))}}(Object,this)});